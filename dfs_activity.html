<!DOCTYPE html>
<html lang="en">
  
<!-- HEAD -->
<head>
  <meta charset="UTF-8">
  <title>DFS Interactive Tutorial</title>
  <link rel="stylesheet" href="css/style.css">

  <!-- CYTOSCAPE TO GENERATE GRAPH -->
  <script src="https://unpkg.com/cytoscape@3.26.0/dist/cytoscape.min.js"></script>
  <script src="https://d3js.org/d3.v7.min.js"></script>
</head>

<!-- FEEDBACK SCREEN FOR INTERACTIVE ACTIVITIES -- ERRORS/COMPLETION -->
<div id="dfs-modal" class="modal" style="display:none;">
  <div class="modal-content">
    <span id="dfs-modal-message"></span>
    <button id="dfs-modal-close">Try Again</button>
  </div>
</div>

<!-- BODY -->
<body>
  <div class="container">
    <!-- TOGGLE BUTTON -->
    <button id="theme-toggle" aria-label="Toggle Theme">
    <img src="icons/dark_mode.svg" alt="Toggle dark mode" width="28" height="28" />
    </button>
    <!-- PAGE HEADER -->
    <h1>ğŸ§  Interactive DFS Tutorial</h1>

    <!-- BUTTONS -->
    <div class="controls">
      <button id="run-example-btn" onclick="startDFS()">Run example DFS</button>
      <button id="start-interactive-btn" onclick="startInteractiveDFS()">Start Interactive DFS</button>
      <button id="take-quiz-btn" onclick="renderQuiz()">Take a Quiz</button>
      <button id="togglePseudocodeBtn" class="btn primary" aria-pressed="false">Show pseudocode</button>
      <!-- THIS IS THE RESET BUTTON FOR DEBUGGING<button id="reset-btn" onclick="resetGraph()">Reset graph</button> -->
    </div>

    <!-- TEXT INSTRUCTIONS UNDER EACH ACTIVITY WHEN CLICKED -->
    <p id="example-instructions" class="activity-instructions" style="display: none;">
      Click on <strong>Run Example DFS</strong> to see the algorithm traversal. Start the <strong>Interactive DFS</strong> after the example has completed!
    </p>
    <p id="interactive-instructions" class="instructions">
      Click on the <strong>correct nodes</strong> that follow the DFS traversal path. Complete the traversal and test your knowledge with a quiz!
    </p>

    <!-- LOAD GRAPH -->
    <div id="visualization"></div>

    <!-- LOAD FEEDBACK POPUP -->
    <div id="dfs-feedback" class="feedback"></div>

<!-------------------- PSEUDOCODE SIDE PANEL -------------------- -->
    <aside id="pseudocodePanel" aria-hidden="true">
      <div class="panel-header">
        <!-- PANEL HEADER/TITLE -->
        <h2>Depth-First Search (DFS) â€” Pseudocode</h2>
        <button id="closePseudocodeBtn" class="icon-btn" aria-label="Close">âœ•</button>
      </div>

      <div class="pseudo-toggle" role="tablist" aria-label="Pseudocode variant">
        <button class="seg selected" role="tab" aria-selected="true" data-target="recursive">Recursive</button>
        <button class="seg" role="tab" aria-selected="false" data-target="iterative">Iterative</button>
      </div>
<!-- RECURSIVE PSEUDOCODE IN PANEL -->
<pre id="pseudo-recursive" class="code pseudo show">
  procedure DFS(G, start):
    visited â† set()
    parent  â† map()
    time    â† 0

    function visit(u):
        visited.add(u)
        time â† time + 1
        for v in G.neighbors(u):
            if v âˆ‰ visited:
                parent[v] â† u
                visit(v)
        time â† time + 1

    visit(start)
    return parent
  </pre>
<!-- ITERATIVE PSEUDOCODE IN PANEL -->
<pre id="pseudo-iterative" class="code pseudo">
  procedure DFS_iter(G, start):
    visited â† set()
    parent  â† map()
    S â† stack([start])

    while S not empty:
        u â† S.pop()
        if u âˆ‰ visited:
            visited.add(u)
            for v in reverse(G.neighbors(u)):
                if v âˆ‰ visited:
                    parent[v] â† u
                    S.push(v)
    return parent
  </pre>

      <p class="note">Mentally trace the code to understand the algorithm's traversal pathing!</p>
    </aside>
  </div>
  <!-- END OF PSEUDOCODE PANEL -->
  
  <!-- JAVASCRIPT FILE IMPORTS -->
  <section id="dfs-quiz" class="quiz-panel" style="display:none;"></section>
  <script src="js/dfs.js"></script> 
  <script src="js/visualization.js"></script>
  <script src="js/interactive.js"></script>
  <script src="js/quiz.js"></script>
  <script src="js/dfs_ui.js"></script>

</body>
</html>
